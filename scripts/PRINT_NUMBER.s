MOV X0 246
LR X7
ADD X7 X7 3
B PRINT_NUMBER_UNSIGNED

EXIT

/*
TODO description

Arguments:
X0 -> Number
X7 -> Return Register
*/
PRINT_NUMBER_UNSIGNED:
    #ALIAS X0 NUMBER
    #ALIAS X1 SCREENLOC
    #ALIAS X2 BCDECIMAL
    #ALIAS X3 SHIFT

    MOV SHIFT 12
    BCDECIMAL BCDECIMAL NUMBER

.digit_loop:

    LSR X4 BCDECIMAL SHIFT
    AND X4 X4 0x000F
    ADD X4 X4 '0'

    PRINT SCREENLOC X4
    ADD SCREENLOC SCREENLOC 1
    SUB SHIFT SHIFT 4

    CMP SHIFT 0
    BLT .digit_loop_end

    B .digit_loop
.digit_loop_end:

    BCDL BCDECIMAL NUMBER
    AND BCDECIMAL BCDECIMAL 0x000F
    ADD BCDECIMAL BCDECIMAL '0'
    PRINT SCREENLOC BCDECIMAL
    ADD SCREENLOC SCREENLOC 1

    b X7